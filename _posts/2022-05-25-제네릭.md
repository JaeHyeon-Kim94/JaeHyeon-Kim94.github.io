---
catrgories : [Java]
tags : [generic]
---

# 제네릭

 - 개인적으로 이해한 바로는 다형성 측면에서 효율적인 객체 및 메서드 설계를 위한 문법 요소라고 생각함.
 - 컴파일시 강한 타입 체크를 통해 에러 사전 방지, 캐스팅 생략 등의 이점도 있음.
 
 - 과일을 관리하는 객체 Fruit에 특정 과일을 저장한다고 했을 때,
     ```java
     class Fruit{
         Object f;
         //Constructor, Getter, Setter는 생략
     }
     ```
    여러 과일을 멤버로서 관리하기 위해서는 최상위 객체인 Object로 선언된 변수에 담는 방법이 있음.

     하지만 이 방법의 문제점은,

     1. 저장 후 다시 꺼내올 때 캐스팅이 필요하며
     2. 저장된 객체의 구체적인 타입을 알고 있어야 하고, 
     3. 약한 타입 체크로 인한 오류 발생 가능성 존재한다는 것이다.



## 제네릭 클래스 및 제네릭 인터페이스 문법
 - `접근 지정자 class 클래스명<T>`
 - `접근 지정자 interface 인터페이스명<T>`

 - 제네릭 타입 변수의 관례적 표기 및 의미
    
 제네릭 타입 변수 | 의미
 --- | ---
 T | 타입
 K | 키
 V | 값
 N | 숫자
 E | 원소

 - 제네릭 클래스의 객체 생성
 ```java
 클래스명<실제 제네릭 타입> 참조 변수명 = 
            new 클래스명<실제 제네릭 타입>(); 
 //제네릭 타입은 양쪽이 항상 동일하기 때문에 
            //뒤의 <> 안은 생략 가능.
 ```
 이렇게 하면 클래스 정의 시점이 아닌 __객체 생성시__ 타입을 지정할 수 있게 된다.
    
 - <> 안의 제네릭 타입 변수 생략시엔 해당 변수에 올 수 있는 타입 중 최상위 클래스가 대입된다. (Object)
 - A a = new A();와<br>
 A\<Object> a = new A\<Object>();는 동일한 의미.


## 제네릭 메서드

 - 클래스 말고 특정 메서드만 제네릭으로 선언할 수 있는데, <br>리턴 타입 또는 입력매개변수의 타입을 제네릭으로 선언 가능.
 - 제네릭 클래스의 경우 **객체를 생성하는 시점**에 실제 타입을 지정했는데,<br>제네릭 메서드는 **호출되는 시점**에 실제 제네릭 타입을 지정.
 - 3가지 경우의 문법 구조
   - 매개변수에만 제네릭 사용  : `접근지정자<T> void 메서드명(T t){ }`
   - 리턴 타입에만 제네릭 사용 : `접근지정자<T> T 메서드명(){ }`
   - 둘 다, 제네릭 2개 사용 : `접근 지정자<T, V> T 메서드명(T t, V v){ }`<br>
    > 접근 지정자 <제네릭 타입> 리턴타입 메서드명(매개변수)

    <br><br>

 - 호출 문법 구조
   - `참조 객체.<실제 제네릭 타입>메서드명(매개변수)`
   - 입력매개변수를 보고 제네릭 타입 변수의 실제 타입을 예측할 수 있다면 메서드 호출시 제네릭 타입 부분을 생략할 수 있다.


## 제네릭 타입 범위 제한

 - 제네릭 메서드 내에서 매개변수로 전달된 객체의 메서드를 호출하고자 하는데,<br>
   제네릭 메서드는 **호출되는 시점**에 실제 제네릭 타입이 지정되므로, 호출 전까지는 의도한 타입의 메서드를 호출할 수 없다.

  - 제네릭 클래스의 경우도 **객체가 생성되는 시점에** 실제 제네릭 타입이 지정되므로 마찬가지 문제가 있다.

- 제네릭 타입의 범위를 제한(bound)하여 이러한 문제를 해결할 수 있다.
  - 제네릭 클래스 타입 제한 문법 구조
    `접근 지정자 class 클래스명<T extends 최상위 클래스/인터페이스명>{ }`
    
  
  - 제네릭 메서드의 타입 제한 문법 구조
  `접근 지정자 <T extends 최상위 클래스/인터페이스명> T 메서드명(T t){ }`

  - 클래스, 인터페이스 상관없이 extends 사용.(implements X)
  - 이렇게 하면 적어도 최상위 클래스/인터페이스의 멤버를 사용할 수 있게 된다.

- 메서드 매개변수인 제네릭 클래스의 타입 제한
  - `리턴 타입 메서드 명(제네릭 클래스명<? super 하위 클래스/인터페이스> 참조 변수명) { }`
  - `리턴 타입 메서드 명(제네릭 클래스명<? extends 상위 클래스/인터페이스> 참조 변수명) { }`


## 제네릭의 상속

 - 제네릭 클래스의 상속
   - 부모 클래스의 제네릭을 자식 클래스도 상속 받으며, 제네릭 타입 변수를 추가해 정의할 수도 있다.
   - 따라서 자식 클래스의 제네릭 타입 변수는 항상 부모보다 많거나 같음.
<br><br>
 - 제네릭 메서드의 상속
   - 부모 클래스 내의 제네릭 메서드 또한 그대로 자식 클래스로 상속된다.


## Reference
- Do it! 자바 완전 정복